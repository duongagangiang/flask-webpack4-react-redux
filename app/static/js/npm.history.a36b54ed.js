(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{YHGo:function(n,e,t){"use strict";var r=t("g8bd");var I=t.n(r);var a=t("QLaP");var Y=t.n(a);var o=t("Rh1G");var i=t("w6Ft");var B=function n(e){return e.charAt(0)==="/"?e:"/"+e};var f=function n(e){return e.charAt(0)==="/"?e.substr(1):e};var F=function n(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)};var G=function n(e,t){return F(e,t)?e.substr(t.length):e};var D=function n(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e};var s=function n(e){var t=e||"/";var r="";var a="";var i=t.indexOf("#");if(i!==-1){a=t.substr(i);t=t.substr(0,i)}var o=t.indexOf("?");if(o!==-1){r=t.substr(o);t=t.substr(0,o)}return{pathname:t,search:r==="?"?"":r,hash:a==="#"?"":a}};var J=function n(e){var t=e.pathname,r=e.search,a=e.hash;var i=t||"/";if(r&&r!=="?")i+=r.charAt(0)==="?"?r:"?"+r;if(a&&a!=="#")i+=a.charAt(0)==="#"?a:"#"+a;return i};var u=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r)){n[r]=t[r]}}}return n};var Q=function n(e,t,r,a){var i=void 0;if(typeof e==="string"){i=s(e);i.state=t}else{i=u({},e);if(i.pathname===undefined)i.pathname="";if(i.search){if(i.search.charAt(0)!=="?")i.search="?"+i.search}else{i.search=""}if(i.hash){if(i.hash.charAt(0)!=="#")i.hash="#"+i.hash}else{i.hash=""}if(t!==undefined&&i.state===undefined)i.state=t}try{i.pathname=decodeURI(i.pathname)}catch(n){if(n instanceof URIError){throw new URIError('Pathname "'+i.pathname+'" could not be decoded. '+"This is likely caused by an invalid percent-encoding.")}else{throw n}}if(r)i.key=r;if(a){if(!i.pathname){i.pathname=a.pathname}else if(i.pathname.charAt(0)!=="/"){i.pathname=Object(o["a"])(i.pathname,a.pathname)}}else{if(!i.pathname){i.pathname="/"}}return i};var W=function n(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(i["a"])(e.state,t.state)};var c=function n(){var o=null;var e=function n(e){I()(o==null,"A history supports only one prompt at a time");o=e;return function(){if(o===e)o=null}};var t=function n(e,t,r,a){if(o!=null){var i=typeof o==="function"?o(e,t):o;if(typeof i==="string"){if(typeof r==="function"){r(i,a)}else{I()(false,"A history needs a getUserConfirmation function in order to use a prompt message");a(true)}}else{a(i!==false)}}else{a(true)}};var a=[];var r=function n(e){var t=true;var r=function n(){if(t)e.apply(undefined,arguments)};a.push(r);return function(){t=false;a=a.filter(function(n){return n!==r})}};var i=function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}a.forEach(function(n){return n.apply(undefined,t)})};return{setPrompt:e,confirmTransitionTo:t,appendListener:r,notifyListeners:i}};var $=c;var q=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);var z=function n(e,t,r){return e.addEventListener?e.addEventListener(t,r,false):e.attachEvent("on"+t,r)};var K=function n(e,t,r){return e.removeEventListener?e.removeEventListener(t,r,false):e.detachEvent("on"+t,r)};var N=function n(e,t){return t(window.confirm(e))};var M=function n(){var e=window.navigator.userAgent;if((e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1)return false;return window.history&&"pushState"in window.history};var V=function n(){return window.navigator.userAgent.indexOf("Trident")===-1};var X=function n(){return window.navigator.userAgent.indexOf("Firefox")===-1};var Z=function n(e){return e.state===undefined&&navigator.userAgent.indexOf("CriOS")===-1};var _=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol==="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};var nn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r)){n[r]=t[r]}}}return n};var en="popstate";var tn="hashchange";var rn=function n(){try{return window.history.state||{}}catch(n){return{}}};var d=function n(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Y()(q,"Browser history needs a DOM");var s=window.history;var u=M();var t=!V();var r=e.forceRefresh,c=r===undefined?false:r,a=e.getUserConfirmation,d=a===undefined?N:a,i=e.keyLength,o=i===undefined?6:i;var v=e.basename?D(B(e.basename)):"";var f=function n(e){var t=e||{},r=t.key,a=t.state;var i=window.location,o=i.pathname,f=i.search,s=i.hash;var u=o+f+s;I()(!v||F(u,v),"You are attempting to use a basename on a page whose URL path does not begin "+'with the basename. Expected path "'+u+'" to begin with "'+v+'".');if(v)u=G(u,v);return Q(u,a,r)};var h=function n(){return Math.random().toString(36).substr(2,o)};var l=$();var p=function n(e){nn(C,e);C.length=s.length;l.notifyListeners(C.location,C.action)};var g=function n(e){if(Z(e))return;m(f(e.state))};var y=function n(){m(f(rn()))};var w=false;var m=function n(e){if(w){w=false;p()}else{var t="POP";l.confirmTransitionTo(e,t,d,function(n){if(n){p({action:t,location:e})}else{b(e)}})}};var b=function n(e){var t=C.location;var r=P.indexOf(t.key);if(r===-1)r=0;var a=P.indexOf(e.key);if(a===-1)a=0;var i=r-a;if(i){w=true;A(i)}};var O=f(rn());var P=[O.key];var x=function n(e){return v+J(e)};var k=function n(e,t){I()(!((typeof e==="undefined"?"undefined":_(e))==="object"&&e.state!==undefined&&t!==undefined),"You should avoid providing a 2nd state argument to push when the 1st "+"argument is a location-like object that already has state; it is ignored");var o="PUSH";var f=Q(e,t,h(),C.location);l.confirmTransitionTo(f,o,d,function(n){if(!n)return;var e=x(f);var t=f.key,r=f.state;if(u){s.pushState({key:t,state:r},null,e);if(c){window.location.href=e}else{var a=P.indexOf(C.location.key);var i=P.slice(0,a===-1?0:a+1);i.push(f.key);P=i;p({action:o,location:f})}}else{I()(r===undefined,"Browser history cannot push state in browsers that do not support HTML5 history");window.location.href=e}})};var T=function n(e,t){I()(!((typeof e==="undefined"?"undefined":_(e))==="object"&&e.state!==undefined&&t!==undefined),"You should avoid providing a 2nd state argument to replace when the 1st "+"argument is a location-like object that already has state; it is ignored");var i="REPLACE";var o=Q(e,t,h(),C.location);l.confirmTransitionTo(o,i,d,function(n){if(!n)return;var e=x(o);var t=o.key,r=o.state;if(u){s.replaceState({key:t,state:r},null,e);if(c){window.location.replace(e)}else{var a=P.indexOf(C.location.key);if(a!==-1)P[a]=o.key;p({action:i,location:o})}}else{I()(r===undefined,"Browser history cannot replace state in browsers that do not support HTML5 history");window.location.replace(e)}})};var A=function n(e){s.go(e)};var L=function n(){return A(-1)};var S=function n(){return A(1)};var E=0;var j=function n(e){E+=e;if(E===1){z(window,en,g);if(t)z(window,tn,y)}else if(E===0){K(window,en,g);if(t)K(window,tn,y)}};var H=false;var U=function n(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var t=l.setPrompt(e);if(!H){j(1);H=true}return function(){if(H){H=false;j(-1)}return t()}};var R=function n(e){var t=l.appendListener(e);j(1);return function(){j(-1);t()}};var C={length:s.length,action:"POP",location:O,createHref:x,push:k,replace:T,go:A,goBack:L,goForward:S,block:U,listen:R};return C};var v=d;var an=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r)){n[r]=t[r]}}}return n};var on="hashchange";var fn={hashbang:{encodePath:function n(e){return e.charAt(0)==="!"?e:"!/"+f(e)},decodePath:function n(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:f,decodePath:B},slash:{encodePath:B,decodePath:B}};var sn=function n(){var e=window.location.href;var t=e.indexOf("#");return t===-1?"":e.substring(t+1)};var un=function n(e){return window.location.hash=e};var cn=function n(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)};var h=function n(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Y()(q,"Hash history needs a DOM");var t=window.history;var r=X();var a=e.getUserConfirmation,s=a===undefined?N:a,i=e.hashType,o=i===undefined?"slash":i;var u=e.basename?D(B(e.basename)):"";var f=fn[o],c=f.encodePath,d=f.decodePath;var v=function n(){var e=d(sn());I()(!u||F(e,u),"You are attempting to use a basename on a page whose URL path does not begin "+'with the basename. Expected path "'+e+'" to begin with "'+u+'".');if(u)e=G(e,u);return Q(e)};var h=$();var l=function n(e){an(M,e);M.length=t.length;h.notifyListeners(M.location,M.action)};var p=false;var g=null;var y=function n(){var e=sn();var t=c(e);if(e!==t){cn(t)}else{var r=v();var a=M.location;if(!p&&W(a,r))return;if(g===J(r))return;g=null;w(r)}};var w=function n(e){if(p){p=false;l()}else{var t="POP";h.confirmTransitionTo(e,t,s,function(n){if(n){l({action:t,location:e})}else{m(e)}})}};var m=function n(e){var t=M.location;var r=x.lastIndexOf(J(t));if(r===-1)r=0;var a=x.lastIndexOf(J(e));if(a===-1)a=0;var i=r-a;if(i){p=true;L(i)}};var b=sn();var O=c(b);if(b!==O)cn(O);var P=v();var x=[J(P)];var k=function n(e){return"#"+c(u+J(e))};var T=function n(e,t){I()(t===undefined,"Hash history cannot push state; it is ignored");var o="PUSH";var f=Q(e,undefined,undefined,M.location);h.confirmTransitionTo(f,o,s,function(n){if(!n)return;var e=J(f);var t=c(u+e);var r=sn()!==t;if(r){g=e;un(t);var a=x.lastIndexOf(J(M.location));var i=x.slice(0,a===-1?0:a+1);i.push(e);x=i;l({action:o,location:f})}else{I()(false,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack");l()}})};var A=function n(e,t){I()(t===undefined,"Hash history cannot replace state; it is ignored");var i="REPLACE";var o=Q(e,undefined,undefined,M.location);h.confirmTransitionTo(o,i,s,function(n){if(!n)return;var e=J(o);var t=c(u+e);var r=sn()!==t;if(r){g=e;cn(t)}var a=x.indexOf(J(M.location));if(a!==-1)x[a]=e;l({action:i,location:o})})};var L=function n(e){I()(r,"Hash history go(n) causes a full page reload in this browser");t.go(e)};var S=function n(){return L(-1)};var E=function n(){return L(1)};var j=0;var H=function n(e){j+=e;if(j===1){z(window,on,y)}else if(j===0){K(window,on,y)}};var U=false;var R=function n(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var t=h.setPrompt(e);if(!U){H(1);U=true}return function(){if(U){U=false;H(-1)}return t()}};var C=function n(e){var t=h.appendListener(e);H(1);return function(){H(-1);t()}};var M={length:t.length,action:"POP",location:P,createHref:k,push:T,replace:A,go:L,goBack:S,goForward:E,block:R,listen:C};return M};var l=h;var k=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol==="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};var T=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r)){n[r]=t[r]}}}return n};var A=function n(e,t,r){return Math.min(Math.max(e,t),r)};var p=function n(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var o=e.getUserConfirmation,t=e.initialEntries,r=t===undefined?["/"]:t,a=e.initialIndex,i=a===undefined?0:a,f=e.keyLength,s=f===undefined?6:f;var u=$();var c=function n(e){T(x,e);x.length=x.entries.length;u.notifyListeners(x.location,x.action)};var d=function n(){return Math.random().toString(36).substr(2,s)};var v=A(i,0,r.length-1);var h=r.map(function(n){return typeof n==="string"?Q(n,undefined,d()):Q(n,undefined,n.key||d())});var l=J;var p=function n(e,t){I()(!((typeof e==="undefined"?"undefined":k(e))==="object"&&e.state!==undefined&&t!==undefined),"You should avoid providing a 2nd state argument to push when the 1st "+"argument is a location-like object that already has state; it is ignored");var a="PUSH";var i=Q(e,t,d(),x.location);u.confirmTransitionTo(i,a,o,function(n){if(!n)return;var e=x.index;var t=e+1;var r=x.entries.slice(0);if(r.length>t){r.splice(t,r.length-t,i)}else{r.push(i)}c({action:a,location:i,index:t,entries:r})})};var g=function n(e,t){I()(!((typeof e==="undefined"?"undefined":k(e))==="object"&&e.state!==undefined&&t!==undefined),"You should avoid providing a 2nd state argument to replace when the 1st "+"argument is a location-like object that already has state; it is ignored");var r="REPLACE";var a=Q(e,t,d(),x.location);u.confirmTransitionTo(a,r,o,function(n){if(!n)return;x.entries[x.index]=a;c({action:r,location:a})})};var y=function n(e){var t=A(x.index+e,0,x.entries.length-1);var r="POP";var a=x.entries[t];u.confirmTransitionTo(a,r,o,function(n){if(n){c({action:r,location:a,index:t})}else{c()}})};var w=function n(){return y(-1)};var m=function n(){return y(1)};var b=function n(e){var t=x.index+e;return t>=0&&t<x.entries.length};var O=function n(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return u.setPrompt(e)};var P=function n(e){return u.appendListener(e)};var x={length:h.length,action:"POP",location:h[v],index:v,entries:h,createHref:l,push:p,replace:g,go:y,goBack:w,goForward:m,canGo:b,block:O,listen:P};return x};var g=p;t.d(e,"a",function(){return v});t.d(e,"b",function(){return Q})},g8bd:function(n,e,t){"use strict";var r=function(){};if(false){}n.exports=r}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9QYXRoVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvTG9jYXRpb25VdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9ET01VdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9jcmVhdGVCcm93c2VySGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9jcmVhdGVIYXNoSGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9jcmVhdGVNZW1vcnlIaXN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oaXN0b3J5L25vZGVfbW9kdWxlcy93YXJuaW5nL2Jyb3dzZXIuanMiXSwibmFtZXMiOlsiYWRkTGVhZGluZ1NsYXNoIiwicGF0aCIsImNoYXJBdCIsInN0cmlwTGVhZGluZ1NsYXNoIiwic3Vic3RyIiwiaGFzQmFzZW5hbWUiLCJwcmVmaXgiLCJSZWdFeHAiLCJ0ZXN0Iiwic3RyaXBCYXNlbmFtZSIsImxlbmd0aCIsInN0cmlwVHJhaWxpbmdTbGFzaCIsInNsaWNlIiwicGFyc2VQYXRoIiwicGF0aG5hbWUiLCJzZWFyY2giLCJoYXNoIiwiaGFzaEluZGV4IiwiaW5kZXhPZiIsInNlYXJjaEluZGV4IiwiY3JlYXRlUGF0aCIsImxvY2F0aW9uIiwiX2V4dGVuZHMiLCJPYmplY3QiLCJhc3NpZ24iLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwic291cmNlIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiTG9jYXRpb25VdGlsc19jcmVhdGVMb2NhdGlvbiIsImNyZWF0ZUxvY2F0aW9uIiwic3RhdGUiLCJjdXJyZW50TG9jYXRpb24iLCJ1bmRlZmluZWQiLCJkZWNvZGVVUkkiLCJlIiwiVVJJRXJyb3IiLCJyZXNvbHZlX3BhdGhuYW1lIiwiTG9jYXRpb25VdGlsc19sb2NhdGlvbnNBcmVFcXVhbCIsImxvY2F0aW9uc0FyZUVxdWFsIiwiYSIsImIiLCJ2YWx1ZV9lcXVhbCIsImNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIiwiY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIiLCJwcm9tcHQiLCJzZXRQcm9tcHQiLCJuZXh0UHJvbXB0IiwiYnJvd3Nlcl9kZWZhdWx0IiwiY29uZmlybVRyYW5zaXRpb25UbyIsImFjdGlvbiIsImdldFVzZXJDb25maXJtYXRpb24iLCJjYWxsYmFjayIsInJlc3VsdCIsImxpc3RlbmVycyIsImFwcGVuZExpc3RlbmVyIiwiZm4iLCJpc0FjdGl2ZSIsImxpc3RlbmVyIiwiYXBwbHkiLCJwdXNoIiwiZmlsdGVyIiwiaXRlbSIsIm5vdGlmeUxpc3RlbmVycyIsIl9sZW4iLCJhcmdzIiwiQXJyYXkiLCJfa2V5IiwiZm9yRWFjaCIsImVzX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIiwiY2FuVXNlRE9NIiwid2luZG93IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm5vZGUiLCJldmVudCIsImF0dGFjaEV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiZ2V0Q29uZmlybWF0aW9uIiwibWVzc2FnZSIsImNvbmZpcm0iLCJzdXBwb3J0c0hpc3RvcnkiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImhpc3RvcnkiLCJzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlIiwic3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2giLCJpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50IiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCJjcmVhdGVCcm93c2VySGlzdG9yeV9leHRlbmRzIiwiUG9wU3RhdGVFdmVudCIsIkhhc2hDaGFuZ2VFdmVudCIsImdldEhpc3RvcnlTdGF0ZSIsImNyZWF0ZUJyb3dzZXJIaXN0b3J5X2NyZWF0ZUJyb3dzZXJIaXN0b3J5IiwiY3JlYXRlQnJvd3Nlckhpc3RvcnkiLCJwcm9wcyIsImludmFyaWFudF9icm93c2VyX2RlZmF1bHQiLCJnbG9iYWxIaXN0b3J5IiwiY2FuVXNlSGlzdG9yeSIsIm5lZWRzSGFzaENoYW5nZUxpc3RlbmVyIiwiX3Byb3BzJGZvcmNlUmVmcmVzaCIsImZvcmNlUmVmcmVzaCIsIl9wcm9wcyRnZXRVc2VyQ29uZmlybSIsIl9wcm9wcyRrZXlMZW5ndGgiLCJrZXlMZW5ndGgiLCJiYXNlbmFtZSIsImdldERPTUxvY2F0aW9uIiwiaGlzdG9yeVN0YXRlIiwiX3JlZiIsIl93aW5kb3ckbG9jYXRpb24iLCJjcmVhdGVLZXkiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJ0cmFuc2l0aW9uTWFuYWdlciIsInNldFN0YXRlIiwibmV4dFN0YXRlIiwiaGFuZGxlUG9wU3RhdGUiLCJoYW5kbGVQb3AiLCJoYW5kbGVIYXNoQ2hhbmdlIiwiZm9yY2VOZXh0UG9wIiwib2siLCJyZXZlcnRQb3AiLCJmcm9tTG9jYXRpb24iLCJ0b0xvY2F0aW9uIiwidG9JbmRleCIsImFsbEtleXMiLCJmcm9tSW5kZXgiLCJkZWx0YSIsImdvIiwiaW5pdGlhbExvY2F0aW9uIiwiY3JlYXRlSHJlZiIsImhyZWYiLCJwdXNoU3RhdGUiLCJwcmV2SW5kZXgiLCJuZXh0S2V5cyIsInJlcGxhY2UiLCJyZXBsYWNlU3RhdGUiLCJuIiwiZ29CYWNrIiwiZ29Gb3J3YXJkIiwibGlzdGVuZXJDb3VudCIsImNoZWNrRE9NTGlzdGVuZXJzIiwiaXNCbG9ja2VkIiwiYmxvY2siLCJ1bmJsb2NrIiwibGlzdGVuIiwidW5saXN0ZW4iLCJlc19jcmVhdGVCcm93c2VySGlzdG9yeSIsImNyZWF0ZUhhc2hIaXN0b3J5X2V4dGVuZHMiLCJjcmVhdGVIYXNoSGlzdG9yeV9IYXNoQ2hhbmdlRXZlbnQiLCJIYXNoUGF0aENvZGVycyIsImhhc2hiYW5nIiwiZW5jb2RlUGF0aCIsImRlY29kZVBhdGgiLCJub3NsYXNoIiwic2xhc2giLCJnZXRIYXNoUGF0aCIsInN1YnN0cmluZyIsInB1c2hIYXNoUGF0aCIsInJlcGxhY2VIYXNoUGF0aCIsImNyZWF0ZUhhc2hIaXN0b3J5X2NyZWF0ZUhhc2hIaXN0b3J5IiwiY3JlYXRlSGFzaEhpc3RvcnkiLCJjYW5Hb1dpdGhvdXRSZWxvYWQiLCJfcHJvcHMkaGFzaFR5cGUiLCJoYXNoVHlwZSIsIl9IYXNoUGF0aENvZGVycyRoYXNoVCIsImlnbm9yZVBhdGgiLCJlbmNvZGVkUGF0aCIsInByZXZMb2NhdGlvbiIsImFsbFBhdGhzIiwibGFzdEluZGV4T2YiLCJoYXNoQ2hhbmdlZCIsIm5leHRQYXRocyIsImVzX2NyZWF0ZUhhc2hIaXN0b3J5IiwiY3JlYXRlTWVtb3J5SGlzdG9yeV90eXBlb2YiLCJjcmVhdGVNZW1vcnlIaXN0b3J5X2V4dGVuZHMiLCJjbGFtcCIsImxvd2VyQm91bmQiLCJ1cHBlckJvdW5kIiwibWluIiwibWF4IiwiY3JlYXRlTWVtb3J5SGlzdG9yeV9jcmVhdGVNZW1vcnlIaXN0b3J5IiwiY3JlYXRlTWVtb3J5SGlzdG9yeSIsIl9wcm9wcyRpbml0aWFsRW50cmllcyIsImluaXRpYWxFbnRyaWVzIiwiX3Byb3BzJGluaXRpYWxJbmRleCIsImluaXRpYWxJbmRleCIsImVudHJpZXMiLCJpbmRleCIsIm1hcCIsImVudHJ5IiwibmV4dEluZGV4IiwibmV4dEVudHJpZXMiLCJzcGxpY2UiLCJjYW5HbyIsImVzX2NyZWF0ZU1lbW9yeUhpc3RvcnkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZCIsIl9fd2VicGFja19leHBvcnRzX18iLCJ3YXJuaW5nIiwibW9k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LFFBQUE3TCxRQUdBLElBQUFpSixFQUFBLFNBQUFBLElBQ0EsSUFBQTFHLEVBQUF0QixVQUFBakIsT0FBQSxHQUFBaUIsVUFBQSxLQUFBVSxVQUFBVixVQUFBLFNBQ0EsT0FBQWtHLEVBQUEzRSxVQUFBRCxJQUdBLElBQUE0RyxFQUFBLFNBQUFBLEVBQUEvRixHQUNBLE9BQUErRCxFQUFBbEUsZUFBQUcsSUFHQSxJQUFBNkIsRUFBQSxDQUNBakYsT0FBQTZMLEVBQUE3TCxPQUNBNEMsT0FBQSxNQUNBakMsU0FBQWtMLEVBQUFDLEdBQ0FBLFFBQ0FELFVBQ0F6RCxhQUNBOUUsT0FDQW1GLFVBQ0FQLEtBQ0FVLFNBQ0FDLFlBQ0F1RCxRQUNBbkQsUUFDQUUsVUFHQSxPQUFBbEUsR0FHZSxJQUFBb0gsRUFBQSxFQzVKZkMsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQW5ELElBQUFpRCxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBakwsdUNDa0JBLElBQUFrTCxFQUFBLGFBRUEsR0FBSSxNQUF1QyxFQXVDM0NDLEVBQUFDLFFBQUFGIiwiZmlsZSI6ImpzL25wbS5oaXN0b3J5LmEzNmI1NGVkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBhZGRMZWFkaW5nU2xhc2ggPSBmdW5jdGlvbiBhZGRMZWFkaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJyA/IHBhdGggOiAnLycgKyBwYXRoO1xufTtcblxuZXhwb3J0IHZhciBzdHJpcExlYWRpbmdTbGFzaCA9IGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XG59O1xuXG5leHBvcnQgdmFyIGhhc0Jhc2VuYW1lID0gZnVuY3Rpb24gaGFzQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIHByZWZpeCArICcoXFxcXC98XFxcXD98I3wkKScsICdpJykudGVzdChwYXRoKTtcbn07XG5cbmV4cG9ydCB2YXIgc3RyaXBCYXNlbmFtZSA9IGZ1bmN0aW9uIHN0cmlwQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBoYXNCYXNlbmFtZShwYXRoLCBwcmVmaXgpID8gcGF0aC5zdWJzdHIocHJlZml4Lmxlbmd0aCkgOiBwYXRoO1xufTtcblxuZXhwb3J0IHZhciBzdHJpcFRyYWlsaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufTtcblxuZXhwb3J0IHZhciBwYXJzZVBhdGggPSBmdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuICB2YXIgcGF0aG5hbWUgPSBwYXRoIHx8ICcvJztcbiAgdmFyIHNlYXJjaCA9ICcnO1xuICB2YXIgaGFzaCA9ICcnO1xuXG4gIHZhciBoYXNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoSW5kZXggIT09IC0xKSB7XG4gICAgaGFzaCA9IHBhdGhuYW1lLnN1YnN0cihoYXNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKDAsIGhhc2hJbmRleCk7XG4gIH1cblxuICB2YXIgc2VhcmNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCc/Jyk7XG4gIGlmIChzZWFyY2hJbmRleCAhPT0gLTEpIHtcbiAgICBzZWFyY2ggPSBwYXRobmFtZS5zdWJzdHIoc2VhcmNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKDAsIHNlYXJjaEluZGV4KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgIHNlYXJjaDogc2VhcmNoID09PSAnPycgPyAnJyA6IHNlYXJjaCxcbiAgICBoYXNoOiBoYXNoID09PSAnIycgPyAnJyA6IGhhc2hcbiAgfTtcbn07XG5cbmV4cG9ydCB2YXIgY3JlYXRlUGF0aCA9IGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24pIHtcbiAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2gsXG4gICAgICBoYXNoID0gbG9jYXRpb24uaGFzaDtcblxuXG4gIHZhciBwYXRoID0gcGF0aG5hbWUgfHwgJy8nO1xuXG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogJz8nICsgc2VhcmNoO1xuXG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6ICcjJyArIGhhc2g7XG5cbiAgcmV0dXJuIHBhdGg7XG59OyIsInZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmltcG9ydCByZXNvbHZlUGF0aG5hbWUgZnJvbSAncmVzb2x2ZS1wYXRobmFtZSc7XG5pbXBvcnQgdmFsdWVFcXVhbCBmcm9tICd2YWx1ZS1lcXVhbCc7XG5pbXBvcnQgeyBwYXJzZVBhdGggfSBmcm9tICcuL1BhdGhVdGlscyc7XG5cbmV4cG9ydCB2YXIgY3JlYXRlTG9jYXRpb24gPSBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5LCBjdXJyZW50TG9jYXRpb24pIHtcbiAgdmFyIGxvY2F0aW9uID0gdm9pZCAwO1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gVHdvLWFyZyBmb3JtOiBwdXNoKHBhdGgsIHN0YXRlKVxuICAgIGxvY2F0aW9uID0gcGFyc2VQYXRoKHBhdGgpO1xuICAgIGxvY2F0aW9uLnN0YXRlID0gc3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgLy8gT25lLWFyZyBmb3JtOiBwdXNoKGxvY2F0aW9uKVxuICAgIGxvY2F0aW9uID0gX2V4dGVuZHMoe30sIHBhdGgpO1xuXG4gICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnBhdGhuYW1lID0gJyc7XG5cbiAgICBpZiAobG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBsb2NhdGlvbi5zZWFyY2ggPSAnPycgKyBsb2NhdGlvbi5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLnNlYXJjaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgbG9jYXRpb24uaGFzaCA9ICcjJyArIGxvY2F0aW9uLmhhc2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBsb2NhdGlvbi5zdGF0ZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGRlY29kZVVSSShsb2NhdGlvbi5wYXRobmFtZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFVSSUVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgVVJJRXJyb3IoJ1BhdGhuYW1lIFwiJyArIGxvY2F0aW9uLnBhdGhuYW1lICsgJ1wiIGNvdWxkIG5vdCBiZSBkZWNvZGVkLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBhbiBpbnZhbGlkIHBlcmNlbnQtZW5jb2RpbmcuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGtleSkgbG9jYXRpb24ua2V5ID0ga2V5O1xuXG4gIGlmIChjdXJyZW50TG9jYXRpb24pIHtcbiAgICAvLyBSZXNvbHZlIGluY29tcGxldGUvcmVsYXRpdmUgcGF0aG5hbWUgcmVsYXRpdmUgdG8gY3VycmVudCBsb2NhdGlvbi5cbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcbiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IHJlc29sdmVQYXRobmFtZShsb2NhdGlvbi5wYXRobmFtZSwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gV2hlbiB0aGVyZSBpcyBubyBwcmlvciBsb2NhdGlvbiBhbmQgcGF0aG5hbWUgaXMgZW1wdHksIHNldCBpdCB0byAvXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2F0aW9uO1xufTtcblxuZXhwb3J0IHZhciBsb2NhdGlvbnNBcmVFcXVhbCA9IGZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmIGEuaGFzaCA9PT0gYi5oYXNoICYmIGEua2V5ID09PSBiLmtleSAmJiB2YWx1ZUVxdWFsKGEuc3RhdGUsIGIuc3RhdGUpO1xufTsiLCJpbXBvcnQgd2FybmluZyBmcm9tICd3YXJuaW5nJztcblxudmFyIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyID0gZnVuY3Rpb24gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKSB7XG4gIHZhciBwcm9tcHQgPSBudWxsO1xuXG4gIHZhciBzZXRQcm9tcHQgPSBmdW5jdGlvbiBzZXRQcm9tcHQobmV4dFByb21wdCkge1xuICAgIHdhcm5pbmcocHJvbXB0ID09IG51bGwsICdBIGhpc3Rvcnkgc3VwcG9ydHMgb25seSBvbmUgcHJvbXB0IGF0IGEgdGltZScpO1xuXG4gICAgcHJvbXB0ID0gbmV4dFByb21wdDtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocHJvbXB0ID09PSBuZXh0UHJvbXB0KSBwcm9tcHQgPSBudWxsO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNvbmZpcm1UcmFuc2l0aW9uVG8gPSBmdW5jdGlvbiBjb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgLy8gVE9ETzogSWYgYW5vdGhlciB0cmFuc2l0aW9uIHN0YXJ0cyB3aGlsZSB3ZSdyZSBzdGlsbCBjb25maXJtaW5nXG4gICAgLy8gdGhlIHByZXZpb3VzIG9uZSwgd2UgbWF5IGVuZCB1cCBpbiBhIHdlaXJkIHN0YXRlLiBGaWd1cmUgb3V0IHRoZVxuICAgIC8vIGJlc3Qgd2F5IHRvIGhhbmRsZSB0aGlzLlxuICAgIGlmIChwcm9tcHQgIT0gbnVsbCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHR5cGVvZiBwcm9tcHQgPT09ICdmdW5jdGlvbicgPyBwcm9tcHQobG9jYXRpb24sIGFjdGlvbikgOiBwcm9tcHQ7XG5cbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAodHlwZW9mIGdldFVzZXJDb25maXJtYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBnZXRVc2VyQ29uZmlybWF0aW9uKHJlc3VsdCwgY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdBIGhpc3RvcnkgbmVlZHMgYSBnZXRVc2VyQ29uZmlybWF0aW9uIGZ1bmN0aW9uIGluIG9yZGVyIHRvIHVzZSBhIHByb21wdCBtZXNzYWdlJyk7XG5cbiAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGZyb20gYSB0cmFuc2l0aW9uIGhvb2sgdG8gY2FuY2VsIHRoZSB0cmFuc2l0aW9uLlxuICAgICAgICBjYWxsYmFjayhyZXN1bHQgIT09IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICB2YXIgYXBwZW5kTGlzdGVuZXIgPSBmdW5jdGlvbiBhcHBlbmRMaXN0ZW5lcihmbikge1xuICAgIHZhciBpc0FjdGl2ZSA9IHRydWU7XG5cbiAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiBsaXN0ZW5lcigpIHtcbiAgICAgIGlmIChpc0FjdGl2ZSkgZm4uYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGxpc3RlbmVyO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgbm90aWZ5TGlzdGVuZXJzID0gZnVuY3Rpb24gbm90aWZ5TGlzdGVuZXJzKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGxpc3RlbmVyLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzZXRQcm9tcHQ6IHNldFByb21wdCxcbiAgICBjb25maXJtVHJhbnNpdGlvblRvOiBjb25maXJtVHJhbnNpdGlvblRvLFxuICAgIGFwcGVuZExpc3RlbmVyOiBhcHBlbmRMaXN0ZW5lcixcbiAgICBub3RpZnlMaXN0ZW5lcnM6IG5vdGlmeUxpc3RlbmVyc1xuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXI7IiwiZXhwb3J0IHZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG5leHBvcnQgdmFyIGFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICByZXR1cm4gbm9kZS5hZGRFdmVudExpc3RlbmVyID8gbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpIDogbm9kZS5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbn07XG5cbmV4cG9ydCB2YXIgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSkgOiBub2RlLmRldGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xufTtcblxuZXhwb3J0IHZhciBnZXRDb25maXJtYXRpb24gPSBmdW5jdGlvbiBnZXRDb25maXJtYXRpb24obWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGNhbGxiYWNrKHdpbmRvdy5jb25maXJtKG1lc3NhZ2UpKTtcbn07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYWxlcnRcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGlzIHN1cHBvcnRlZC4gVGFrZW4gZnJvbSBNb2Rlcm5penIuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvZmVhdHVyZS1kZXRlY3RzL2hpc3RvcnkuanNcbiAqIGNoYW5nZWQgdG8gYXZvaWQgZmFsc2UgbmVnYXRpdmVzIGZvciBXaW5kb3dzIFBob25lczogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3Qtcm91dGVyL2lzc3Vlcy81ODZcbiAqL1xuZXhwb3J0IHZhciBzdXBwb3J0c0hpc3RvcnkgPSBmdW5jdGlvbiBzdXBwb3J0c0hpc3RvcnkoKSB7XG4gIHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gIGlmICgodWEuaW5kZXhPZignQW5kcm9pZCAyLicpICE9PSAtMSB8fCB1YS5pbmRleE9mKCdBbmRyb2lkIDQuMCcpICE9PSAtMSkgJiYgdWEuaW5kZXhPZignTW9iaWxlIFNhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTEgJiYgdWEuaW5kZXhPZignV2luZG93cyBQaG9uZScpID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGJyb3dzZXIgZmlyZXMgcG9wc3RhdGUgb24gaGFzaCBjaGFuZ2UuXG4gKiBJRTEwIGFuZCBJRTExIGRvIG5vdC5cbiAqL1xuZXhwb3J0IHZhciBzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlID0gZnVuY3Rpb24gc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSgpIHtcbiAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ1RyaWRlbnQnKSA9PT0gLTE7XG59O1xuXG4vKipcbiAqIFJldHVybnMgZmFsc2UgaWYgdXNpbmcgZ28obikgd2l0aCBoYXNoIGhpc3RvcnkgY2F1c2VzIGEgZnVsbCBwYWdlIHJlbG9hZC5cbiAqL1xuZXhwb3J0IHZhciBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCA9IGZ1bmN0aW9uIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID09PSAtMTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGEgZ2l2ZW4gcG9wc3RhdGUgZXZlbnQgaXMgYW4gZXh0cmFuZW91cyBXZWJLaXQgZXZlbnQuXG4gKiBBY2NvdW50cyBmb3IgdGhlIGZhY3QgdGhhdCBDaHJvbWUgb24gaU9TIGZpcmVzIHJlYWwgcG9wc3RhdGUgZXZlbnRzXG4gKiBjb250YWluaW5nIHVuZGVmaW5lZCBzdGF0ZSB3aGVuIHByZXNzaW5nIHRoZSBiYWNrIGJ1dHRvbi5cbiAqL1xuZXhwb3J0IHZhciBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50ID0gZnVuY3Rpb24gaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudChldmVudCkge1xuICByZXR1cm4gZXZlbnQuc3RhdGUgPT09IHVuZGVmaW5lZCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0NyaU9TJykgPT09IC0xO1xufTsiLCJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmltcG9ydCB3YXJuaW5nIGZyb20gJ3dhcm5pbmcnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IHsgY3JlYXRlTG9jYXRpb24gfSBmcm9tICcuL0xvY2F0aW9uVXRpbHMnO1xuaW1wb3J0IHsgYWRkTGVhZGluZ1NsYXNoLCBzdHJpcFRyYWlsaW5nU2xhc2gsIGhhc0Jhc2VuYW1lLCBzdHJpcEJhc2VuYW1lLCBjcmVhdGVQYXRoIH0gZnJvbSAnLi9QYXRoVXRpbHMnO1xuaW1wb3J0IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIGZyb20gJy4vY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXInO1xuaW1wb3J0IHsgY2FuVXNlRE9NLCBhZGRFdmVudExpc3RlbmVyLCByZW1vdmVFdmVudExpc3RlbmVyLCBnZXRDb25maXJtYXRpb24sIHN1cHBvcnRzSGlzdG9yeSwgc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSwgaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCB9IGZyb20gJy4vRE9NVXRpbHMnO1xuXG52YXIgUG9wU3RhdGVFdmVudCA9ICdwb3BzdGF0ZSc7XG52YXIgSGFzaENoYW5nZUV2ZW50ID0gJ2hhc2hjaGFuZ2UnO1xuXG52YXIgZ2V0SGlzdG9yeVN0YXRlID0gZnVuY3Rpb24gZ2V0SGlzdG9yeVN0YXRlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCB7fTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElFIDExIHNvbWV0aW1lcyB0aHJvd3Mgd2hlbiBhY2Nlc3Npbmcgd2luZG93Lmhpc3Rvcnkuc3RhdGVcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0VHJhaW5pbmcvaGlzdG9yeS9wdWxsLzI4OVxuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGlzdG9yeSBvYmplY3QgdGhhdCB1c2VzIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpbmNsdWRpbmdcbiAqIHB1c2hTdGF0ZSwgcmVwbGFjZVN0YXRlLCBhbmQgdGhlIHBvcHN0YXRlIGV2ZW50LlxuICovXG52YXIgY3JlYXRlQnJvd3Nlckhpc3RvcnkgPSBmdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeSgpIHtcbiAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICBpbnZhcmlhbnQoY2FuVXNlRE9NLCAnQnJvd3NlciBoaXN0b3J5IG5lZWRzIGEgRE9NJyk7XG5cbiAgdmFyIGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcbiAgdmFyIGNhblVzZUhpc3RvcnkgPSBzdXBwb3J0c0hpc3RvcnkoKTtcbiAgdmFyIG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyID0gIXN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UoKTtcblxuICB2YXIgX3Byb3BzJGZvcmNlUmVmcmVzaCA9IHByb3BzLmZvcmNlUmVmcmVzaCxcbiAgICAgIGZvcmNlUmVmcmVzaCA9IF9wcm9wcyRmb3JjZVJlZnJlc2ggPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3Byb3BzJGZvcmNlUmVmcmVzaCxcbiAgICAgIF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9IHByb3BzLmdldFVzZXJDb25maXJtYXRpb24sXG4gICAgICBnZXRVc2VyQ29uZmlybWF0aW9uID0gX3Byb3BzJGdldFVzZXJDb25maXJtID09PSB1bmRlZmluZWQgPyBnZXRDb25maXJtYXRpb24gOiBfcHJvcHMkZ2V0VXNlckNvbmZpcm0sXG4gICAgICBfcHJvcHMka2V5TGVuZ3RoID0gcHJvcHMua2V5TGVuZ3RoLFxuICAgICAga2V5TGVuZ3RoID0gX3Byb3BzJGtleUxlbmd0aCA9PT0gdW5kZWZpbmVkID8gNiA6IF9wcm9wcyRrZXlMZW5ndGg7XG5cbiAgdmFyIGJhc2VuYW1lID0gcHJvcHMuYmFzZW5hbWUgPyBzdHJpcFRyYWlsaW5nU2xhc2goYWRkTGVhZGluZ1NsYXNoKHByb3BzLmJhc2VuYW1lKSkgOiAnJztcblxuICB2YXIgZ2V0RE9NTG9jYXRpb24gPSBmdW5jdGlvbiBnZXRET01Mb2NhdGlvbihoaXN0b3J5U3RhdGUpIHtcbiAgICB2YXIgX3JlZiA9IGhpc3RvcnlTdGF0ZSB8fCB7fSxcbiAgICAgICAga2V5ID0gX3JlZi5rZXksXG4gICAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZTtcblxuICAgIHZhciBfd2luZG93JGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLFxuICAgICAgICBwYXRobmFtZSA9IF93aW5kb3ckbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaCA9IF93aW5kb3ckbG9jYXRpb24uc2VhcmNoLFxuICAgICAgICBoYXNoID0gX3dpbmRvdyRsb2NhdGlvbi5oYXNoO1xuXG5cbiAgICB2YXIgcGF0aCA9IHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcblxuICAgIHdhcm5pbmcoIWJhc2VuYW1lIHx8IGhhc0Jhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKSwgJ1lvdSBhcmUgYXR0ZW1wdGluZyB0byB1c2UgYSBiYXNlbmFtZSBvbiBhIHBhZ2Ugd2hvc2UgVVJMIHBhdGggZG9lcyBub3QgYmVnaW4gJyArICd3aXRoIHRoZSBiYXNlbmFtZS4gRXhwZWN0ZWQgcGF0aCBcIicgKyBwYXRoICsgJ1wiIHRvIGJlZ2luIHdpdGggXCInICsgYmFzZW5hbWUgKyAnXCIuJyk7XG5cbiAgICBpZiAoYmFzZW5hbWUpIHBhdGggPSBzdHJpcEJhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKTtcblxuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlS2V5ID0gZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwga2V5TGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpO1xuXG4gIHZhciBzZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGdsb2JhbEhpc3RvcnkubGVuZ3RoO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfTtcblxuICB2YXIgaGFuZGxlUG9wU3RhdGUgPSBmdW5jdGlvbiBoYW5kbGVQb3BTdGF0ZShldmVudCkge1xuICAgIC8vIElnbm9yZSBleHRyYW5lb3VzIHBvcHN0YXRlIGV2ZW50cyBpbiBXZWJLaXQuXG4gICAgaWYgKGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQoZXZlbnQpKSByZXR1cm47XG5cbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZXZlbnQuc3RhdGUpKTtcbiAgfTtcblxuICB2YXIgaGFuZGxlSGFzaENoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUhhc2hDaGFuZ2UoKSB7XG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKSk7XG4gIH07XG5cbiAgdmFyIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuXG4gIHZhciBoYW5kbGVQb3AgPSBmdW5jdGlvbiBoYW5kbGVQb3AobG9jYXRpb24pIHtcbiAgICBpZiAoZm9yY2VOZXh0UG9wKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgICAgIHNldFN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhY3Rpb24gPSAnUE9QJztcblxuICAgICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmVydFBvcChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmV2ZXJ0UG9wID0gZnVuY3Rpb24gcmV2ZXJ0UG9wKGZyb21Mb2NhdGlvbikge1xuICAgIHZhciB0b0xvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjtcblxuICAgIC8vIFRPRE86IFdlIGNvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyBtb3JlIHJlbGlhYmxlIGJ5XG4gICAgLy8ga2VlcGluZyBhIGxpc3Qgb2Yga2V5cyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBrZXlzIHdlIGRvbid0IGtub3cuXG5cbiAgICB2YXIgdG9JbmRleCA9IGFsbEtleXMuaW5kZXhPZih0b0xvY2F0aW9uLmtleSk7XG5cbiAgICBpZiAodG9JbmRleCA9PT0gLTEpIHRvSW5kZXggPSAwO1xuXG4gICAgdmFyIGZyb21JbmRleCA9IGFsbEtleXMuaW5kZXhPZihmcm9tTG9jYXRpb24ua2V5KTtcblxuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xuXG4gICAgdmFyIGRlbHRhID0gdG9JbmRleCAtIGZyb21JbmRleDtcblxuICAgIGlmIChkZWx0YSkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gdHJ1ZTtcbiAgICAgIGdvKGRlbHRhKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGluaXRpYWxMb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKTtcbiAgdmFyIGFsbEtleXMgPSBbaW5pdGlhbExvY2F0aW9uLmtleV07XG5cbiAgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIHZhciBjcmVhdGVIcmVmID0gZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgIHJldHVybiBiYXNlbmFtZSArIGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICB9O1xuXG4gIHZhciBwdXNoID0gZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xuICAgIHdhcm5pbmcoISgodHlwZW9mIHBhdGggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHBhdGgpKSA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcHVzaCB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG5cbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cblxuICAgICAgaWYgKGNhblVzZUhpc3RvcnkpIHtcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUoeyBrZXk6IGtleSwgc3RhdGU6IHN0YXRlIH0sIG51bGwsIGhyZWYpO1xuXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbEtleXMuaW5kZXhPZihoaXN0b3J5LmxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgdmFyIG5leHRLZXlzID0gYWxsS2V5cy5zbGljZSgwLCBwcmV2SW5kZXggPT09IC0xID8gMCA6IHByZXZJbmRleCArIDEpO1xuXG4gICAgICAgICAgbmV4dEtleXMucHVzaChsb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIGFsbEtleXMgPSBuZXh0S2V5cztcblxuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCBwdXNoIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpO1xuXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmVwbGFjZSA9IGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICB3YXJuaW5nKCEoKHR5cGVvZiBwYXRoID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihwYXRoKSkgPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHJlcGxhY2Ugd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuXG4gICAgICB2YXIgaHJlZiA9IGNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleSxcbiAgICAgICAgICBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuXG5cbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XG4gICAgICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKHsga2V5OiBrZXksIHN0YXRlOiBzdGF0ZSB9LCBudWxsLCBocmVmKTtcblxuICAgICAgICBpZiAoZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaHJlZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbEtleXMuaW5kZXhPZihoaXN0b3J5LmxvY2F0aW9uLmtleSk7XG5cbiAgICAgICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkgYWxsS2V5c1twcmV2SW5kZXhdID0gbG9jYXRpb24ua2V5O1xuXG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHJlcGxhY2Ugc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5Jyk7XG5cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaHJlZik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdvID0gZnVuY3Rpb24gZ28obikge1xuICAgIGdsb2JhbEhpc3RvcnkuZ28obik7XG4gIH07XG5cbiAgdmFyIGdvQmFjayA9IGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICByZXR1cm4gZ28oLTEpO1xuICB9O1xuXG4gIHZhciBnb0ZvcndhcmQgPSBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgcmV0dXJuIGdvKDEpO1xuICB9O1xuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMDtcblxuICB2YXIgY2hlY2tET01MaXN0ZW5lcnMgPSBmdW5jdGlvbiBjaGVja0RPTUxpc3RlbmVycyhkZWx0YSkge1xuICAgIGxpc3RlbmVyQ291bnQgKz0gZGVsdGE7XG5cbiAgICBpZiAobGlzdGVuZXJDb3VudCA9PT0gMSkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcblxuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGxpc3RlbmVyQ291bnQgPT09IDApIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LCBQb3BTdGF0ZUV2ZW50LCBoYW5kbGVQb3BTdGF0ZSk7XG5cbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgcmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csIEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBpc0Jsb2NrZWQgPSBmYWxzZTtcblxuICB2YXIgYmxvY2sgPSBmdW5jdGlvbiBibG9jaygpIHtcbiAgICB2YXIgcHJvbXB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgIHZhciB1bmJsb2NrID0gdHJhbnNpdGlvbk1hbmFnZXIuc2V0UHJvbXB0KHByb21wdCk7XG5cbiAgICBpZiAoIWlzQmxvY2tlZCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgICBpc0Jsb2NrZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICAgIGlzQmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmJsb2NrKCk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgbGlzdGVuID0gZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgdmFyIHVubGlzdGVuID0gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIHVubGlzdGVuKCk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgaGlzdG9yeSA9IHtcbiAgICBsZW5ndGg6IGdsb2JhbEhpc3RvcnkubGVuZ3RoLFxuICAgIGFjdGlvbjogJ1BPUCcsXG4gICAgbG9jYXRpb246IGluaXRpYWxMb2NhdGlvbixcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgYmxvY2s6IGJsb2NrLFxuICAgIGxpc3RlbjogbGlzdGVuXG4gIH07XG5cbiAgcmV0dXJuIGhpc3Rvcnk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVCcm93c2VySGlzdG9yeTsiLCJ2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5pbXBvcnQgd2FybmluZyBmcm9tICd3YXJuaW5nJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcbmltcG9ydCB7IGNyZWF0ZUxvY2F0aW9uLCBsb2NhdGlvbnNBcmVFcXVhbCB9IGZyb20gJy4vTG9jYXRpb25VdGlscyc7XG5pbXBvcnQgeyBhZGRMZWFkaW5nU2xhc2gsIHN0cmlwTGVhZGluZ1NsYXNoLCBzdHJpcFRyYWlsaW5nU2xhc2gsIGhhc0Jhc2VuYW1lLCBzdHJpcEJhc2VuYW1lLCBjcmVhdGVQYXRoIH0gZnJvbSAnLi9QYXRoVXRpbHMnO1xuaW1wb3J0IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIGZyb20gJy4vY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXInO1xuaW1wb3J0IHsgY2FuVXNlRE9NLCBhZGRFdmVudExpc3RlbmVyLCByZW1vdmVFdmVudExpc3RlbmVyLCBnZXRDb25maXJtYXRpb24sIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoIH0gZnJvbSAnLi9ET01VdGlscyc7XG5cbnZhciBIYXNoQ2hhbmdlRXZlbnQgPSAnaGFzaGNoYW5nZSc7XG5cbnZhciBIYXNoUGF0aENvZGVycyA9IHtcbiAgaGFzaGJhbmc6IHtcbiAgICBlbmNvZGVQYXRoOiBmdW5jdGlvbiBlbmNvZGVQYXRoKHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJyEnID8gcGF0aCA6ICchLycgKyBzdHJpcExlYWRpbmdTbGFzaChwYXRoKTtcbiAgICB9LFxuICAgIGRlY29kZVBhdGg6IGZ1bmN0aW9uIGRlY29kZVBhdGgocGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnIScgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XG4gICAgfVxuICB9LFxuICBub3NsYXNoOiB7XG4gICAgZW5jb2RlUGF0aDogc3RyaXBMZWFkaW5nU2xhc2gsXG4gICAgZGVjb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoXG4gIH0sXG4gIHNsYXNoOiB7XG4gICAgZW5jb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoLFxuICAgIGRlY29kZVBhdGg6IGFkZExlYWRpbmdTbGFzaFxuICB9XG59O1xuXG52YXIgZ2V0SGFzaFBhdGggPSBmdW5jdGlvbiBnZXRIYXNoUGF0aCgpIHtcbiAgLy8gV2UgY2FuJ3QgdXNlIHdpbmRvdy5sb2NhdGlvbi5oYXNoIGhlcmUgYmVjYXVzZSBpdCdzIG5vdFxuICAvLyBjb25zaXN0ZW50IGFjcm9zcyBicm93c2VycyAtIEZpcmVmb3ggd2lsbCBwcmUtZGVjb2RlIGl0IVxuICB2YXIgaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICB2YXIgaGFzaEluZGV4ID0gaHJlZi5pbmRleE9mKCcjJyk7XG4gIHJldHVybiBoYXNoSW5kZXggPT09IC0xID8gJycgOiBocmVmLnN1YnN0cmluZyhoYXNoSW5kZXggKyAxKTtcbn07XG5cbnZhciBwdXNoSGFzaFBhdGggPSBmdW5jdGlvbiBwdXNoSGFzaFBhdGgocGF0aCkge1xuICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhhc2ggPSBwYXRoO1xufTtcblxudmFyIHJlcGxhY2VIYXNoUGF0aCA9IGZ1bmN0aW9uIHJlcGxhY2VIYXNoUGF0aChwYXRoKSB7XG4gIHZhciBoYXNoSW5kZXggPSB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCcjJyk7XG5cbiAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2Uod2luZG93LmxvY2F0aW9uLmhyZWYuc2xpY2UoMCwgaGFzaEluZGV4ID49IDAgPyBoYXNoSW5kZXggOiAwKSArICcjJyArIHBhdGgpO1xufTtcblxudmFyIGNyZWF0ZUhhc2hIaXN0b3J5ID0gZnVuY3Rpb24gY3JlYXRlSGFzaEhpc3RvcnkoKSB7XG4gIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgaW52YXJpYW50KGNhblVzZURPTSwgJ0hhc2ggaGlzdG9yeSBuZWVkcyBhIERPTScpO1xuXG4gIHZhciBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG4gIHZhciBjYW5Hb1dpdGhvdXRSZWxvYWQgPSBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpO1xuXG4gIHZhciBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPSBwcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9PT0gdW5kZWZpbmVkID8gZ2V0Q29uZmlybWF0aW9uIDogX3Byb3BzJGdldFVzZXJDb25maXJtLFxuICAgICAgX3Byb3BzJGhhc2hUeXBlID0gcHJvcHMuaGFzaFR5cGUsXG4gICAgICBoYXNoVHlwZSA9IF9wcm9wcyRoYXNoVHlwZSA9PT0gdW5kZWZpbmVkID8gJ3NsYXNoJyA6IF9wcm9wcyRoYXNoVHlwZTtcblxuICB2YXIgYmFzZW5hbWUgPSBwcm9wcy5iYXNlbmFtZSA/IHN0cmlwVHJhaWxpbmdTbGFzaChhZGRMZWFkaW5nU2xhc2gocHJvcHMuYmFzZW5hbWUpKSA6ICcnO1xuXG4gIHZhciBfSGFzaFBhdGhDb2RlcnMkaGFzaFQgPSBIYXNoUGF0aENvZGVyc1toYXNoVHlwZV0sXG4gICAgICBlbmNvZGVQYXRoID0gX0hhc2hQYXRoQ29kZXJzJGhhc2hULmVuY29kZVBhdGgsXG4gICAgICBkZWNvZGVQYXRoID0gX0hhc2hQYXRoQ29kZXJzJGhhc2hULmRlY29kZVBhdGg7XG5cblxuICB2YXIgZ2V0RE9NTG9jYXRpb24gPSBmdW5jdGlvbiBnZXRET01Mb2NhdGlvbigpIHtcbiAgICB2YXIgcGF0aCA9IGRlY29kZVBhdGgoZ2V0SGFzaFBhdGgoKSk7XG5cbiAgICB3YXJuaW5nKCFiYXNlbmFtZSB8fCBoYXNCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSksICdZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGEgYmFzZW5hbWUgb24gYSBwYWdlIHdob3NlIFVSTCBwYXRoIGRvZXMgbm90IGJlZ2luICcgKyAnd2l0aCB0aGUgYmFzZW5hbWUuIEV4cGVjdGVkIHBhdGggXCInICsgcGF0aCArICdcIiB0byBiZWdpbiB3aXRoIFwiJyArIGJhc2VuYW1lICsgJ1wiLicpO1xuXG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gc3RyaXBCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSk7XG5cbiAgICByZXR1cm4gY3JlYXRlTG9jYXRpb24ocGF0aCk7XG4gIH07XG5cbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKTtcblxuICB2YXIgc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBnbG9iYWxIaXN0b3J5Lmxlbmd0aDtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XG4gIH07XG5cbiAgdmFyIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICB2YXIgaWdub3JlUGF0aCA9IG51bGw7XG5cbiAgdmFyIGhhbmRsZUhhc2hDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVIYXNoQ2hhbmdlKCkge1xuICAgIHZhciBwYXRoID0gZ2V0SGFzaFBhdGgoKTtcbiAgICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKHBhdGgpO1xuXG4gICAgaWYgKHBhdGggIT09IGVuY29kZWRQYXRoKSB7XG4gICAgICAvLyBFbnN1cmUgd2UgYWx3YXlzIGhhdmUgYSBwcm9wZXJseS1lbmNvZGVkIGhhc2guXG4gICAgICByZXBsYWNlSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbigpO1xuICAgICAgdmFyIHByZXZMb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247XG5cbiAgICAgIGlmICghZm9yY2VOZXh0UG9wICYmIGxvY2F0aW9uc0FyZUVxdWFsKHByZXZMb2NhdGlvbiwgbG9jYXRpb24pKSByZXR1cm47IC8vIEEgaGFzaGNoYW5nZSBkb2Vzbid0IGFsd2F5cyA9PSBsb2NhdGlvbiBjaGFuZ2UuXG5cbiAgICAgIGlmIChpZ25vcmVQYXRoID09PSBjcmVhdGVQYXRoKGxvY2F0aW9uKSkgcmV0dXJuOyAvLyBJZ25vcmUgdGhpcyBjaGFuZ2U7IHdlIGFscmVhZHkgc2V0U3RhdGUgaW4gcHVzaC9yZXBsYWNlLlxuXG4gICAgICBpZ25vcmVQYXRoID0gbnVsbDtcblxuICAgICAgaGFuZGxlUG9wKGxvY2F0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGhhbmRsZVBvcCA9IGZ1bmN0aW9uIGhhbmRsZVBvcChsb2NhdGlvbikge1xuICAgIGlmIChmb3JjZU5leHRQb3ApIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICAgICAgc2V0U3RhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuXG4gICAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2ZXJ0UG9wKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciByZXZlcnRQb3AgPSBmdW5jdGlvbiByZXZlcnRQb3AoZnJvbUxvY2F0aW9uKSB7XG4gICAgdmFyIHRvTG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uO1xuXG4gICAgLy8gVE9ETzogV2UgY291bGQgcHJvYmFibHkgbWFrZSB0aGlzIG1vcmUgcmVsaWFibGUgYnlcbiAgICAvLyBrZWVwaW5nIGEgbGlzdCBvZiBwYXRocyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBwYXRocyB3ZSBkb24ndCBrbm93LlxuXG4gICAgdmFyIHRvSW5kZXggPSBhbGxQYXRocy5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKHRvTG9jYXRpb24pKTtcblxuICAgIGlmICh0b0luZGV4ID09PSAtMSkgdG9JbmRleCA9IDA7XG5cbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aChmcm9tTG9jYXRpb24pKTtcblxuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xuXG4gICAgdmFyIGRlbHRhID0gdG9JbmRleCAtIGZyb21JbmRleDtcblxuICAgIGlmIChkZWx0YSkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gdHJ1ZTtcbiAgICAgIGdvKGRlbHRhKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRW5zdXJlIHRoZSBoYXNoIGlzIGVuY29kZWQgcHJvcGVybHkgYmVmb3JlIGRvaW5nIGFueXRoaW5nIGVsc2UuXG4gIHZhciBwYXRoID0gZ2V0SGFzaFBhdGgoKTtcbiAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChwYXRoKTtcblxuICBpZiAocGF0aCAhPT0gZW5jb2RlZFBhdGgpIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG5cbiAgdmFyIGluaXRpYWxMb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKCk7XG4gIHZhciBhbGxQYXRocyA9IFtjcmVhdGVQYXRoKGluaXRpYWxMb2NhdGlvbildO1xuXG4gIC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICB2YXIgY3JlYXRlSHJlZiA9IGZ1bmN0aW9uIGNyZWF0ZUhyZWYobG9jYXRpb24pIHtcbiAgICByZXR1cm4gJyMnICsgZW5jb2RlUGF0aChiYXNlbmFtZSArIGNyZWF0ZVBhdGgobG9jYXRpb24pKTtcbiAgfTtcblxuICB2YXIgcHVzaCA9IGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdIYXNoIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIHBhdGggPSBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcbiAgICAgIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgoYmFzZW5hbWUgKyBwYXRoKTtcbiAgICAgIHZhciBoYXNoQ2hhbmdlZCA9IGdldEhhc2hQYXRoKCkgIT09IGVuY29kZWRQYXRoO1xuXG4gICAgICBpZiAoaGFzaENoYW5nZWQpIHtcbiAgICAgICAgLy8gV2UgY2Fubm90IHRlbGwgaWYgYSBoYXNoY2hhbmdlIHdhcyBjYXVzZWQgYnkgYSBQVVNILCBzbyB3ZSdkXG4gICAgICAgIC8vIHJhdGhlciBzZXRTdGF0ZSBoZXJlIGFuZCBpZ25vcmUgdGhlIGhhc2hjaGFuZ2UuIFRoZSBjYXZlYXQgaGVyZVxuICAgICAgICAvLyBpcyB0aGF0IG90aGVyIGhhc2ggaGlzdG9yaWVzIGluIHRoZSBwYWdlIHdpbGwgY29uc2lkZXIgaXQgYSBQT1AuXG4gICAgICAgIGlnbm9yZVBhdGggPSBwYXRoO1xuICAgICAgICBwdXNoSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuXG4gICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxQYXRocy5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKGhpc3RvcnkubG9jYXRpb24pKTtcbiAgICAgICAgdmFyIG5leHRQYXRocyA9IGFsbFBhdGhzLnNsaWNlKDAsIHByZXZJbmRleCA9PT0gLTEgPyAwIDogcHJldkluZGV4ICsgMSk7XG5cbiAgICAgICAgbmV4dFBhdGhzLnB1c2gocGF0aCk7XG4gICAgICAgIGFsbFBhdGhzID0gbmV4dFBhdGhzO1xuXG4gICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdIYXNoIGhpc3RvcnkgY2Fubm90IFBVU0ggdGhlIHNhbWUgcGF0aDsgYSBuZXcgZW50cnkgd2lsbCBub3QgYmUgYWRkZWQgdG8gdGhlIGhpc3Rvcnkgc3RhY2snKTtcblxuICAgICAgICBzZXRTdGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciByZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgIHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0hhc2ggaGlzdG9yeSBjYW5ub3QgcmVwbGFjZSBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpO1xuXG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaGlzdG9yeS5sb2NhdGlvbik7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuXG4gICAgICB2YXIgcGF0aCA9IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICAgICAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChiYXNlbmFtZSArIHBhdGgpO1xuICAgICAgdmFyIGhhc2hDaGFuZ2VkID0gZ2V0SGFzaFBhdGgoKSAhPT0gZW5jb2RlZFBhdGg7XG5cbiAgICAgIGlmIChoYXNoQ2hhbmdlZCkge1xuICAgICAgICAvLyBXZSBjYW5ub3QgdGVsbCBpZiBhIGhhc2hjaGFuZ2Ugd2FzIGNhdXNlZCBieSBhIFJFUExBQ0UsIHNvIHdlJ2RcbiAgICAgICAgLy8gcmF0aGVyIHNldFN0YXRlIGhlcmUgYW5kIGlnbm9yZSB0aGUgaGFzaGNoYW5nZS4gVGhlIGNhdmVhdCBoZXJlXG4gICAgICAgIC8vIGlzIHRoYXQgb3RoZXIgaGFzaCBoaXN0b3JpZXMgaW4gdGhlIHBhZ2Ugd2lsbCBjb25zaWRlciBpdCBhIFBPUC5cbiAgICAgICAgaWdub3JlUGF0aCA9IHBhdGg7XG4gICAgICAgIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxQYXRocy5pbmRleE9mKGNyZWF0ZVBhdGgoaGlzdG9yeS5sb2NhdGlvbikpO1xuXG4gICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkgYWxsUGF0aHNbcHJldkluZGV4XSA9IHBhdGg7XG5cbiAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZ28gPSBmdW5jdGlvbiBnbyhuKSB7XG4gICAgd2FybmluZyhjYW5Hb1dpdGhvdXRSZWxvYWQsICdIYXNoIGhpc3RvcnkgZ28obikgY2F1c2VzIGEgZnVsbCBwYWdlIHJlbG9hZCBpbiB0aGlzIGJyb3dzZXInKTtcblxuICAgIGdsb2JhbEhpc3RvcnkuZ28obik7XG4gIH07XG5cbiAgdmFyIGdvQmFjayA9IGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICByZXR1cm4gZ28oLTEpO1xuICB9O1xuXG4gIHZhciBnb0ZvcndhcmQgPSBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgcmV0dXJuIGdvKDEpO1xuICB9O1xuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMDtcblxuICB2YXIgY2hlY2tET01MaXN0ZW5lcnMgPSBmdW5jdGlvbiBjaGVja0RPTUxpc3RlbmVycyhkZWx0YSkge1xuICAgIGxpc3RlbmVyQ291bnQgKz0gZGVsdGE7XG5cbiAgICBpZiAobGlzdGVuZXJDb3VudCA9PT0gMSkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChsaXN0ZW5lckNvdW50ID09PSAwKSB7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzQmxvY2tlZCA9IGZhbHNlO1xuXG4gIHZhciBibG9jayA9IGZ1bmN0aW9uIGJsb2NrKCkge1xuICAgIHZhciBwcm9tcHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgdmFyIHVuYmxvY2sgPSB0cmFuc2l0aW9uTWFuYWdlci5zZXRQcm9tcHQocHJvbXB0KTtcblxuICAgIGlmICghaXNCbG9ja2VkKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICAgIGlzQmxvY2tlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpc0Jsb2NrZWQpIHtcbiAgICAgICAgaXNCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuYmxvY2soKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBsaXN0ZW4gPSBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICB2YXIgdW5saXN0ZW4gPSB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZ2xvYmFsSGlzdG9yeS5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogaW5pdGlhbExvY2F0aW9uLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcblxuICByZXR1cm4gaGlzdG9yeTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUhhc2hIaXN0b3J5OyIsInZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuaW1wb3J0IHdhcm5pbmcgZnJvbSAnd2FybmluZyc7XG5pbXBvcnQgeyBjcmVhdGVQYXRoIH0gZnJvbSAnLi9QYXRoVXRpbHMnO1xuaW1wb3J0IHsgY3JlYXRlTG9jYXRpb24gfSBmcm9tICcuL0xvY2F0aW9uVXRpbHMnO1xuaW1wb3J0IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIGZyb20gJy4vY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXInO1xuXG52YXIgY2xhbXAgPSBmdW5jdGlvbiBjbGFtcChuLCBsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChuLCBsb3dlckJvdW5kKSwgdXBwZXJCb3VuZCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IHN0b3JlcyBsb2NhdGlvbnMgaW4gbWVtb3J5LlxuICovXG52YXIgY3JlYXRlTWVtb3J5SGlzdG9yeSA9IGZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUhpc3RvcnkoKSB7XG4gIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIHZhciBnZXRVc2VyQ29uZmlybWF0aW9uID0gcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIF9wcm9wcyRpbml0aWFsRW50cmllcyA9IHByb3BzLmluaXRpYWxFbnRyaWVzLFxuICAgICAgaW5pdGlhbEVudHJpZXMgPSBfcHJvcHMkaW5pdGlhbEVudHJpZXMgPT09IHVuZGVmaW5lZCA/IFsnLyddIDogX3Byb3BzJGluaXRpYWxFbnRyaWVzLFxuICAgICAgX3Byb3BzJGluaXRpYWxJbmRleCA9IHByb3BzLmluaXRpYWxJbmRleCxcbiAgICAgIGluaXRpYWxJbmRleCA9IF9wcm9wcyRpbml0aWFsSW5kZXggPT09IHVuZGVmaW5lZCA/IDAgOiBfcHJvcHMkaW5pdGlhbEluZGV4LFxuICAgICAgX3Byb3BzJGtleUxlbmd0aCA9IHByb3BzLmtleUxlbmd0aCxcbiAgICAgIGtleUxlbmd0aCA9IF9wcm9wcyRrZXlMZW5ndGggPT09IHVuZGVmaW5lZCA/IDYgOiBfcHJvcHMka2V5TGVuZ3RoO1xuXG5cbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKTtcblxuICB2YXIgc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBoaXN0b3J5LmVudHJpZXMubGVuZ3RoO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlS2V5ID0gZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwga2V5TGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgaW5kZXggPSBjbGFtcChpbml0aWFsSW5kZXgsIDAsIGluaXRpYWxFbnRyaWVzLmxlbmd0aCAtIDEpO1xuICB2YXIgZW50cmllcyA9IGluaXRpYWxFbnRyaWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICByZXR1cm4gdHlwZW9mIGVudHJ5ID09PSAnc3RyaW5nJyA/IGNyZWF0ZUxvY2F0aW9uKGVudHJ5LCB1bmRlZmluZWQsIGNyZWF0ZUtleSgpKSA6IGNyZWF0ZUxvY2F0aW9uKGVudHJ5LCB1bmRlZmluZWQsIGVudHJ5LmtleSB8fCBjcmVhdGVLZXkoKSk7XG4gIH0pO1xuXG4gIC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICB2YXIgY3JlYXRlSHJlZiA9IGNyZWF0ZVBhdGg7XG5cbiAgdmFyIHB1c2ggPSBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgd2FybmluZyghKCh0eXBlb2YgcGF0aCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YocGF0aCkpID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byBwdXNoIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpO1xuXG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIHByZXZJbmRleCA9IGhpc3RvcnkuaW5kZXg7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gcHJldkluZGV4ICsgMTtcblxuICAgICAgdmFyIG5leHRFbnRyaWVzID0gaGlzdG9yeS5lbnRyaWVzLnNsaWNlKDApO1xuICAgICAgaWYgKG5leHRFbnRyaWVzLmxlbmd0aCA+IG5leHRJbmRleCkge1xuICAgICAgICBuZXh0RW50cmllcy5zcGxpY2UobmV4dEluZGV4LCBuZXh0RW50cmllcy5sZW5ndGggLSBuZXh0SW5kZXgsIGxvY2F0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRFbnRyaWVzLnB1c2gobG9jYXRpb24pO1xuICAgICAgfVxuXG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgIGluZGV4OiBuZXh0SW5kZXgsXG4gICAgICAgIGVudHJpZXM6IG5leHRFbnRyaWVzXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmVwbGFjZSA9IGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICB3YXJuaW5nKCEoKHR5cGVvZiBwYXRoID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihwYXRoKSkgPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHJlcGxhY2Ugd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuXG4gICAgICBoaXN0b3J5LmVudHJpZXNbaGlzdG9yeS5pbmRleF0gPSBsb2NhdGlvbjtcblxuICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnbyA9IGZ1bmN0aW9uIGdvKG4pIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gY2xhbXAoaGlzdG9yeS5pbmRleCArIG4sIDAsIGhpc3RvcnkuZW50cmllcy5sZW5ndGggLSAxKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUE9QJztcbiAgICB2YXIgbG9jYXRpb24gPSBoaXN0b3J5LmVudHJpZXNbbmV4dEluZGV4XTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAob2spIHtcbiAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICBpbmRleDogbmV4dEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTWltaWMgdGhlIGJlaGF2aW9yIG9mIERPTSBoaXN0b3JpZXMgYnlcbiAgICAgICAgLy8gY2F1c2luZyBhIHJlbmRlciBhZnRlciBhIGNhbmNlbGxlZCBQT1AuXG4gICAgICAgIHNldFN0YXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdvQmFjayA9IGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICByZXR1cm4gZ28oLTEpO1xuICB9O1xuXG4gIHZhciBnb0ZvcndhcmQgPSBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgcmV0dXJuIGdvKDEpO1xuICB9O1xuXG4gIHZhciBjYW5HbyA9IGZ1bmN0aW9uIGNhbkdvKG4pIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gaGlzdG9yeS5pbmRleCArIG47XG4gICAgcmV0dXJuIG5leHRJbmRleCA+PSAwICYmIG5leHRJbmRleCA8IGhpc3RvcnkuZW50cmllcy5sZW5ndGg7XG4gIH07XG5cbiAgdmFyIGJsb2NrID0gZnVuY3Rpb24gYmxvY2soKSB7XG4gICAgdmFyIHByb21wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuICB9O1xuXG4gIHZhciBsaXN0ZW4gPSBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICB9O1xuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZW50cmllcy5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogZW50cmllc1tpbmRleF0sXG4gICAgaW5kZXg6IGluZGV4LFxuICAgIGVudHJpZXM6IGVudHJpZXMsXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGNhbkdvOiBjYW5HbyxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcblxuICByZXR1cm4gaGlzdG9yeTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZU1lbW9yeUhpc3Rvcnk7IiwiaW1wb3J0IF9jcmVhdGVCcm93c2VySGlzdG9yeSBmcm9tICcuL2NyZWF0ZUJyb3dzZXJIaXN0b3J5JztcbmV4cG9ydCB7IF9jcmVhdGVCcm93c2VySGlzdG9yeSBhcyBjcmVhdGVCcm93c2VySGlzdG9yeSB9O1xuaW1wb3J0IF9jcmVhdGVIYXNoSGlzdG9yeSBmcm9tICcuL2NyZWF0ZUhhc2hIaXN0b3J5JztcbmV4cG9ydCB7IF9jcmVhdGVIYXNoSGlzdG9yeSBhcyBjcmVhdGVIYXNoSGlzdG9yeSB9O1xuaW1wb3J0IF9jcmVhdGVNZW1vcnlIaXN0b3J5IGZyb20gJy4vY3JlYXRlTWVtb3J5SGlzdG9yeSc7XG5leHBvcnQgeyBfY3JlYXRlTWVtb3J5SGlzdG9yeSBhcyBjcmVhdGVNZW1vcnlIaXN0b3J5IH07XG5cbmV4cG9ydCB7IGNyZWF0ZUxvY2F0aW9uLCBsb2NhdGlvbnNBcmVFcXVhbCB9IGZyb20gJy4vTG9jYXRpb25VdGlscyc7XG5leHBvcnQgeyBwYXJzZVBhdGgsIGNyZWF0ZVBhdGggfSBmcm9tICcuL1BhdGhVdGlscyc7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgd2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHdhcm5pbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYXJncykge1xuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuID4gMiA/IGxlbiAtIDIgOiAwKTtcbiAgICBmb3IgKHZhciBrZXkgPSAyOyBrZXkgPCBsZW47IGtleSsrKSB7XG4gICAgICBhcmdzW2tleSAtIDJdID0gYXJndW1lbnRzW2tleV07XG4gICAgfVxuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArXG4gICAgICAgICdtZXNzYWdlIGFyZ3VtZW50J1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0Lmxlbmd0aCA8IDEwIHx8ICgvXltzXFxXXSokLykudGVzdChmb3JtYXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgd2FybmluZyBmb3JtYXQgc2hvdWxkIGJlIGFibGUgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyAnICtcbiAgICAgICAgJ3dhcm5pbmcuIFBsZWFzZSwgdXNlIGEgbW9yZSBkZXNjcmlwdGl2ZSBmb3JtYXQgdGhhbjogJyArIGZvcm1hdFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgK1xuICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICAgIH0pO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICB9IGNhdGNoKHgpIHt9XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdhcm5pbmc7XG4iXSwic291cmNlUm9vdCI6IiJ9